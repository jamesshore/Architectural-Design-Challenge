An attempt at a mock-driven three-layer architecture.
